#include "test_system.nh"

declare test_system_tb simulation
{
    output error_num[ERROR_NUM_BIT_WIDTH];
    func_out error(error_num);
}

module test_system_tb
{
    test_system tsystem;
    reg counter[10] = 0;
    counter++;

    if(counter == 10'h02)
    {
        tsystem.init();
    }
    if(counter == 10'h04)
    {
        tsystem.start(0x8000_0000);
    }

    func tsystem.error
    {
        error(tsystem.error_num);
        _finish();
    }
}
